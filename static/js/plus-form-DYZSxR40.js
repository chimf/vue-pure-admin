var He=Object.defineProperty,We=Object.defineProperties;var Ye=Object.getOwnPropertyDescriptors;var Ee=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable;var Se=(s,o,d)=>o in s?He(s,o,{enumerable:!0,configurable:!0,writable:!0,value:d}):s[o]=d,F=(s,o)=>{for(var d in o||(o={}))Je.call(o,d)&&Se(s,d,o[d]);if(Ee)for(var d of Ee(o))Qe.call(o,d)&&Se(s,d,o[d]);return s},de=(s,o)=>We(s,Ye(o));var Te=(s,o,d)=>new Promise((u,n)=>{var b=a=>{try{y(d.next(a))}catch(f){n(f)}},S=a=>{try{y(d.throw(a))}catch(f){n(f)}},y=a=>a.done?u(a.value):Promise.resolve(a.value).then(b,S);y((d=d.apply(s,o)).next())});import{a as T,aF as be,fk as Xe,n as Z,aX as _e,fl as Ze,p as q,fm as xe,u as e,cN as el,d as oe,f as t,b as m,a5 as g,W as L,aq as j,aD as ll,r as Ve,fn as Pe,ap as le,l as U,w as h,b4 as Q,k as D,F as N,c1 as ye,h as X,t as J,j as R,c3 as Be,B as Oe,fo as Ae,i as ae,bB as ge,g as Ce,v as Ue,cq as al,a6 as Ie,q as ke,bQ as pe,b8 as ol,bk as tl,bp as sl,bn as nl,bu as ul,bR as rl,c4 as dl,c8 as Ne,c9 as je,ce as il,ck as pl,cs as cl,ct as fl,cx as ml,cz as vl,S as w,fp as hl,cr as bl,bF as yl,bM as gl,cw as kl,bN as Ge,bq as Vl,c6 as Pl,d1 as Cl,bh as El,s as Sl,be as Fe,bL as Tl,cJ as $e}from"./index-DXew9k_J.js";import{e as re,i as G,h as De,t as Il,a as Me,_ as te,v as qe,j as Fl,k as we,g as ue,l as $l,b as se,m as me,c as ie,n as Dl,o as wl,s as Ll,f as ve,d as Rl}from"./_plugin-vue_export-helper-CDXs9QeR.js";const he=s=>{re(s)||console.error("Uncaught TypeError: ",`options expected Array but got ${Il(s)}`)},_l=s=>{const o=T([]),d=T(!1);if(!s.options)o.value=[],d.value=!0;else if(be(s.options)||Xe(s.options)||re(s.options))Z(()=>s.options,u=>{const n=be(u)?u.value:u;o.value=n,d.value=!0},{immediate:!0,deep:!0});else if(G(s.options)){const u=s.options,n=u(s);De(n)?n.then(b=>{o.value=b,d.value=!0,he(o.value)}).catch(b=>{throw b}):(o.value=n,d.value=!0)}else De(s.options)?s.options.then(n=>{o.value=n,d.value=!0,he(o.value)}).catch(n=>{throw n}):(d.value=!0,he(s.options));return{customOptions:o,customOptionsIsReady:d}},Bl=s=>(o,d)=>Ol(o,d,e(s)),Ol=(s,o,d)=>el(d,s,s).replace(/\{(\w+)\}/g,(u,n)=>{var b;return`${(b=o==null?void 0:o[n])!=null?b:`{${n}}`}`}),Al=s=>{const o=q(()=>e(s).name),d=be(s)?s:T(s);return{lang:o,locale:d,t:Bl(s)}},ce=s=>{const o=_e(Ze,T());return Al(q(()=>o.value||xe))},Ul=Symbol("tableFormFieldRefInjectionKey"),Nl=["datetimerange","daterange","monthrange"],jl=["rate","input-number","slider"],Gl=["checkbox","cascader","plus-date-picker","plus-input-tag","transfer"];var Ml=oe({name:"PlusRender",__name:"index",props:{renderType:{default:void 0},callbackValue:{default:""},customFieldProps:{default:()=>({})},render:{},params:{default:()=>({})},handleChange:{}},setup(s){const o=s,d=T();Z(()=>o.callbackValue,n=>{d.value=n},{flush:"post",immediate:!0});const u=()=>{if(!o.render)return;const n=F({},o.params),b=o.renderType==="form"?o.render(d.value,o.handleChange,n):o.render(d.value,n);if(ll(b)){const S=o.renderType==="form"?F(F({modelValue:d.value},o.customFieldProps),b.props):F(F({},o.customFieldProps),b.props);return de(F({},b),{props:S})}else if(Me(b))return b};return(n,b)=>n.renderType==="form"?(t(),m(L(u),g({key:0,modelValue:d.value,"onUpdate:modelValue":b[0]||(b[0]=S=>d.value=S)},n.customFieldProps),null,16,["modelValue"])):(t(),m(L(u),j(g({key:1},n.customFieldProps)),null,16))}}),ql=te(Ml,[["__file","index.vue"]]);const Le=ql;var zl=oe({name:"PlusRadio",__name:"index",props:{modelValue:{type:[String,Number,Boolean],default:""},options:{default:()=>[]},isCancel:{type:Boolean,default:!0},fieldSlots:{default:void 0},fieldChildrenSlot:{default:void 0}},emits:["change","update:modelValue"],setup(s,{expose:o,emit:d}){const u=s,n=d,b=T(),S=T(),y=Ve({radio:""});Z(()=>u.modelValue,c=>{y.radio=c},{immediate:!0});const a=Pe(),f=(c,O,i)=>{if(!(Reflect.has(a,"disabled")||i!=null&&i.disabled)){if(u.isCancel)c.preventDefault();else return;y.radio===O?y.radio="":y.radio=O,n("update:modelValue",y.radio),n("change",y.radio)}},P=c=>{u.isCancel||(n("update:modelValue",c),n("change",c))};return o({radioInstance:b,radioGroupInstance:S}),(c,O)=>(t(),m(e(Be),g({ref_key:"radioGroupInstance",ref:S,modelValue:y.radio,"onUpdate:modelValue":O[0]||(O[0]=i=>y.radio=i),class:"plus-radio"},c.$attrs),le({default:h(()=>[e(qe)?(t(!0),D(N,{key:0},U(c.options,i=>(t(),m(e(ye),g({key:`${i.label}${i.value}`,ref_for:!0,ref_key:"radioInstance",ref:b,label:i.value},i.fieldItemProps,{onClick:A=>f(A,i.value,i.fieldItemProps),onChange:A=>P(i.value)}),{default:h(()=>[e(G)(i.fieldSlot)?(t(),m(L(i.fieldSlot),g({key:0,"model-value":y.radio,column:u},i),null,16,["model-value"])):e(G)(c.fieldChildrenSlot)?(t(),m(L(c.fieldChildrenSlot),g({key:1,"model-value":y.radio,column:u},i),null,16,["model-value"])):(t(),D(N,{key:2},[X(J(i==null?void 0:i.label),1)],64))]),_:2},1040,["label","onClick","onChange"]))),128)):(t(),D(N,{key:1},[R(" element-plus 版本号大于等于2.6.0 "),(t(!0),D(N,null,U(c.options,i=>(t(),m(e(ye),g({key:`${i.label}${i.value}`,ref_for:!0,ref_key:"radioInstance",ref:b,value:i.value},i.fieldItemProps,{onClick:A=>f(A,i.value,i.fieldItemProps),onChange:A=>P(i.value)}),{default:h(()=>[e(G)(i.fieldSlot)?(t(),m(L(i.fieldSlot),g({key:0,"model-value":y.radio,column:u},i),null,16,["model-value"])):e(G)(c.fieldChildrenSlot)?(t(),m(L(c.fieldChildrenSlot),g({key:1,"model-value":y.radio,column:u},i),null,16,["model-value"])):(t(),D(N,{key:2},[X(J(i==null?void 0:i.label),1)],64))]),_:2},1040,["value","onClick","onChange"]))),128))],64))]),_:2},[U(c.fieldSlots,(i,A)=>({name:A,fn:h(V=>[(t(),m(L(i),j(Q(V)),null,16))])}))]),1040,["modelValue"]))}}),Kl=te(zl,[["__file","index.vue"]]);const Hl=Kl,Wl={class:"plus-date-picker__middle"};var Yl=oe({name:"PlusDatePicker",__name:"index",props:{modelValue:{default:()=>[]},rangeSeparator:{default:"/"},valueFormat:{default:"YYYY-MM-DD HH:mm:ss"},type:{default:"datetime"},startProps:{default:()=>({})},endProps:{default:()=>({})},startDisabledDate:{type:Function,default:(s,o)=>o?s.getTime()>new Date(o).getTime():!1},endDisabledDate:{type:Function,default:(s,o)=>o?s.getTime()<new Date(o).getTime():!1}},emits:["change","focus","update:modelValue"],setup(s,{expose:o,emit:d}){const u=s,n=d,{t:b}=ce(),S=Pe(),y=q(()=>F(F({},S),u.startProps)),a=q(()=>F(F({},S),u.endProps)),f=T(),P=T(),c=Ve({start:"",end:""}),O=T(!1),i=p=>{O.value=!0,n("focus",p)},A=()=>{O.value=!1},V=p=>u.startDisabledDate&&G(u.startDisabledDate)?u.startDisabledDate(p,c.end):!1,I=p=>u.endDisabledDate&&G(u.endDisabledDate)?u.endDisabledDate(p,c.start):!1;Z(()=>u.modelValue,p=>{const[H,K]=p;c.start=H,c.end=K},{immediate:!0});const k=()=>{const p=[c.start,c.end];n("update:modelValue",p),n("change",p)};return o({startPickerInstance:f,endPickerInstance:P}),(p,H)=>Oe((t(),D("div",{class:Ue(["plus-date-picker",{"is-focus":O.value}])},[ae(e(ge),g({ref_key:"startPickerInstance",ref:f,modelValue:c.start,"onUpdate:modelValue":H[0]||(H[0]=K=>c.start=K),type:p.type,"value-format":p.valueFormat,placeholder:e(b)("plus.datepicker.startPlaceholder"),"disabled-date":V,class:"plus-date-picker__start",clearable:""},y.value,{onChange:k,onFocus:i}),null,16,["modelValue","type","value-format","placeholder"]),Ce("span",Wl,J(p.rangeSeparator),1),ae(e(ge),g({ref_key:"endPickerInstance",ref:P,modelValue:c.end,"onUpdate:modelValue":H[1]||(H[1]=K=>c.end=K),"value-format":p.valueFormat,type:p.type,placeholder:e(b)("plus.datepicker.endPlaceholder"),"disabled-date":I,class:"plus-date-picker__end",clearable:""},a.value,{onChange:k,onFocus:i}),null,16,["modelValue","value-format","type","placeholder"])],2)),[[e(Ae),A]])}}),Jl=te(Yl,[["__file","index.vue"]]);const Ql=Jl;var Xl=oe({name:"PlusInputTag",__name:"index",props:{modelValue:{default:()=>[]},trigger:{default:()=>["blur","enter","space"]},inputProps:{default:()=>({})},tagProps:{default:()=>({})},limit:{default:1/0},formatTag:{type:Function,default:void 0},retainInputValue:{type:Boolean,default:!1}},emits:["update:modelValue","change","remove","blur","enter","space"],setup(s,{expose:o,emit:d}){const u=s,n=d,b=T(),S=T(),y=T(),a=Ve({tags:[],inputValue:"",isFocus:!1}),{t:f}=ce();Z(()=>u.modelValue,V=>{a.tags=V.slice(0,u.limit)},{immediate:!0});const P=()=>{a.isFocus=!1},c=()=>{var V;a.isFocus=!0,(V=b.value)==null||V.focus()},O=V=>{a.tags=a.tags.filter(I=>I!==V),n("remove",V),n("update:modelValue",a.tags),n("change",a.tags)},i=()=>{a.inputValue.trim()&&!a.tags.includes(a.inputValue.trim())&&a.tags.length<u.limit&&a.tags.push(a.inputValue.trim()),u.retainInputValue||(a.inputValue=""),n("update:modelValue",a.tags),n("change",a.tags)},A=(V,I)=>{n(I,a.inputValue,V),(re(u.trigger)?u.trigger:Me(u.trigger)?[u.trigger]:["blur","enter","space"]).includes(I)&&i()};return o({inputInstance:b,tagInstance:S}),(V,I)=>Oe((t(),D("div",{ref_key:"plusInputTagInstance",ref:y,class:Ue(["plus-input-tag",{"is-focus":a.isFocus}]),onClick:c},[(t(!0),D(N,null,U(a.tags,k=>(t(),m(e(al),g({ref_for:!0,ref_key:"tagInstance",ref:S,key:k,class:"plus-input-tag__tag"},V.tagProps,{closable:"",onClose:p=>O(k)}),{default:h(()=>[X(J(V.formatTag&&e(G)(V.formatTag)?V.formatTag(k):k),1)]),_:2},1040,["onClose"]))),128)),a.tags.length<V.limit?(t(),m(e(pe),g({key:0,ref_key:"inputInstance",ref:b,modelValue:a.inputValue,"onUpdate:modelValue":I[0]||(I[0]=k=>a.inputValue=k),class:"plus-input-tag__input",placeholder:a.tags.length?"":e(f)("plus.inputTag.placeholder"),disabled:a.tags.length>=V.limit},V.inputProps,{clearable:"",onBlur:I[1]||(I[1]=k=>A(k,"blur")),onKeyup:[I[2]||(I[2]=Ie(ke(k=>A(k,"enter"),["exact"]),["enter"])),I[3]||(I[3]=Ie(ke(k=>A(k,"space"),["exact"]),["space"]))]}),null,16,["modelValue","placeholder","disabled"])):R("v-if",!0)],2)),[[e(Ae),P]])}}),Zl=te(Xl,[["__file","index.vue"]]);const xl=Zl,ze={"plus-radio":{component:Hl,hasOptions:!0},"plus-date-picker":{component:Ql},"plus-input-tag":{component:xl},autocomplete:{component:ol,props:{placeholder:"plus.field.pleaseEnter"},hasSelectEvent:!0},cascader:{component:tl,hasOptions:!0},checkbox:{component:sl,children:nl,hasVersionCompatibility:!0},"color-picker":{component:ul},"date-picker":{component:ge,props:{startPlaceholder:"plus.datepicker.startPlaceholder",endPlaceholder:"plus.datepicker.endPlaceholder"}},"input-number":{component:rl,props:{placeholder:"plus.field.pleaseEnter"}},radio:{component:Be,children:ye,hasVersionCompatibility:!0},rate:{component:dl},select:{component:Ne,children:je},slider:{component:il},switch:{component:pl},"time-picker":{component:cl},"time-select":{component:fl},transfer:{component:ml},input:{component:pe,props:{placeholder:"plus.field.pleaseEnter"}},textarea:{component:pe,props:{type:"textarea",placeholder:"plus.field.pleaseEnter"}},"tree-select":{component:vl}},ea=s=>Object.keys(ze).includes(s),ne=s=>Reflect.get(ze,s)||{},la={class:"plus-form-item__label"};var aa=oe({name:"PlusFormItem",__name:"index",props:{modelValue:{default:""},hasLabel:{default:!0},label:{default:""},prop:{},fieldProps:{default:()=>({})},valueType:{default:void 0},options:{default:()=>[]},formItemProps:{default:()=>({})},renderField:{default:void 0},renderLabel:{default:void 0},tooltip:{default:""},fieldSlots:{default:()=>({})},fieldChildrenSlot:{default:void 0},index:{default:0}},emits:["update:modelValue","change"],setup(s,{expose:o,emit:d}){const u=gl,n=kl,b=Ge,S=pe,y=Ne,a=je,f=s,P=d,{t:c}=ce(),{customOptions:O,customOptionsIsReady:i}=_l(f),A=T(),V=T(),I=T({}),k=T({}),p=T(),H=T(!1),K=T(!1),W=q(()=>Fl(f.label)),Y=q(()=>de(F({},f),{label:W.value})),fe=_e(Ul,{}),r=q(()=>{var l,C,E,v,x,ee;return f.valueType==="cascader"&&((C=(l=k.value)==null?void 0:l.props)==null?void 0:C.emitPath)===!1?!1:!!(Gl.includes(f.valueType)||f.valueType==="select"&&((E=k.value)==null?void 0:E.multiple)===!0||f.valueType==="date-picker"&&Nl.includes((v=k.value)==null?void 0:v.type)||f.valueType==="time-picker"&&((x=k.value)==null?void 0:x.isRange)===!0||f.valueType==="tree-select"&&((ee=k.value)==null?void 0:ee.multiple)===!0)}),M=q(()=>!!jl.includes(f.valueType)),_=l=>{if(r.value)if(re(l)){const[C,E]=l;me(C)||me(E)?p.value=[String(C),String(E)]:p.value=l}else p.value=[];else M.value?p.value=Number(l):me(l)?p.value=String(l):p.value=l;K.value=!0},$=q(()=>{const{hasOptions:l,hasSelectEvent:C,props:E}=ne(f.valueType);return F(F(de(F(F(F({},l?{options:O.value}:null),C?{onSelect:Ke}:null),E),{placeholder:E!=null&&E.placeholder?c(E==null?void 0:E.placeholder)+W.value:c("plus.field.pleaseSelect")+W.value}),f.valueType==="date-picker"?{startPlaceholder:E!=null&&E.startPlaceholder?c(E==null?void 0:E.startPlaceholder):"",endPlaceholder:E!=null&&E.startPlaceholder?c(E==null?void 0:E.endPlaceholder):""}:null),k.value)}),B=l=>F(F({},f.valueType==="select"?{label:l.label,value:l.value}:qe?{label:l.value}:{label:l.label,value:l.value}),l.fieldItemProps);Z(()=>f.formItemProps,l=>{we(l,p.value,f,f.index,"formItemProps").then(C=>{I.value=C}).catch(C=>{throw C})},{immediate:!0,deep:!0}),Z(()=>f.fieldProps,l=>{we(l,p.value,f,f.index,"fieldProps").then(C=>{k.value=C,H.value=!0}).catch(C=>{throw C})},{immediate:!0,deep:!0}),Z(q(()=>[f.modelValue,H.value,i.value]),([l,C,E])=>{C&&E&&_(l)},{immediate:!0,flush:"post"});const z=l=>{P("update:modelValue",l),P("change",l)},Ke=({value:l})=>{z(l)};return Z(V,()=>{fe.value={fieldInstance:V.value,valueIsReady:K}}),o({formItemInstance:A,fieldInstance:V}),(l,C)=>{var E;return K.value?(t(),m(e(u),g({key:0,ref_key:"formItemInstance",ref:A,label:l.hasLabel?W.value:"",prop:l.prop,class:"plus-form-item"},I.value,{"label-width":l.hasLabel?(E=I.value)==null?void 0:E.labelWidth:"0px"}),le({default:h(()=>[l.renderField&&e(G)(l.renderField)?(t(),D(N,{key:0},[K.value?(t(),m(e(Le),{key:0,render:l.renderField,params:Y.value,"callback-value":p.value,"custom-field-props":k.value,"render-type":"form","handle-change":z},null,8,["render","params","callback-value","custom-field-props"])):R("v-if",!0)],64)):l.$slots[e(se)(l.prop)]?w(l.$slots,e(se)(l.prop),{key:1,prop:l.prop,label:W.value,fieldProps:k.value,valueType:l.valueType,column:f}):l.valueType==="select"&&k.value.multiple===!0?(t(),m(e(y),g({key:2,ref_key:"fieldInstance",ref:V,modelValue:p.value,"onUpdate:modelValue":C[0]||(C[0]=v=>p.value=v),placeholder:e(c)("plus.field.pleaseSelect")+W.value,class:"plus-form-item-field",clearable:""},k.value,{"onUpdate:modelValue":z}),le({default:h(()=>[(t(!0),D(N,null,U(e(O),v=>(t(),m(e(a),g({key:v.label,label:v.label,value:v.value},v.fieldItemProps),{default:h(()=>[e(G)(v.fieldSlot)?(t(),m(L(v.fieldSlot),j(g({key:0},v)),null,16)):e(G)(l.fieldChildrenSlot)?(t(),m(L(l.fieldChildrenSlot),j(g({key:1},v)),null,16)):(t(),D(N,{key:2},[X(J(v.label),1)],64))]),_:2},1040,["label","value"]))),128))]),_:2},[U(l.fieldSlots,(v,x)=>({name:x,fn:h(ee=>[(t(),m(L(v),j(Q(ee)),null,16))])}))]),1040,["modelValue","placeholder"])):e(ea)(l.valueType)?(t(),D(N,{key:3},[R(" 统一处理 "),R(" has-children  "),e(ne)(l.valueType).children?(t(),m(L(e(ne)(l.valueType).component),g({key:0,ref_key:"fieldInstance",ref:V,modelValue:p.value,"onUpdate:modelValue":C[1]||(C[1]=v=>p.value=v),class:"plus-form-item-field",clearable:""},$.value,{"onUpdate:modelValue":z}),le({default:h(()=>[(t(!0),D(N,null,U(e(O),v=>(t(),m(L(e(ne)(l.valueType).children),g({key:v.label},B(v)),{default:h(()=>[e(G)(v.fieldSlot)?(t(),m(L(v.fieldSlot),g({key:0,"model-value":p.value,column:Y.value},v),null,16,["model-value","column"])):e(G)(l.fieldChildrenSlot)?(t(),m(L(l.fieldChildrenSlot),g({key:1,"model-value":p.value,column:Y.value},v),null,16,["model-value","column"])):(t(),D(N,{key:2},[X(J(v.label),1)],64))]),_:2},1040))),128))]),_:2},[U(l.fieldSlots,(v,x)=>({name:x,fn:h(ee=>[(t(),m(L(v),g({value:p.value,column:Y.value},ee),null,16,["value","column"]))])}))]),1040,["modelValue"])):(t(),D(N,{key:1},[R(" no-children  "),(t(),m(L(e(ne)(l.valueType).component),g({ref_key:"fieldInstance",ref:V,modelValue:p.value,"onUpdate:modelValue":C[2]||(C[2]=v=>p.value=v),class:"plus-form-item-field",clearable:"","field-children-slot":l.fieldChildrenSlot},$.value,{"onUpdate:modelValue":z}),le({_:2},[U(l.fieldSlots,(v,x)=>({name:x,fn:h(ee=>[(t(),m(L(v),g({"model-value":p.value,column:Y.value},ee),null,16,["model-value","column"]))])}))]),1040,["modelValue","field-children-slot"]))],2112))],64)):l.valueType==="text"?(t(),m(e(bl),g({key:4,ref_key:"fieldInstance",ref:V,class:"plus-form-item-field"},k.value),{default:h(()=>[X(J(p.value),1)]),_:1},16)):l.valueType==="divider"?(t(),m(e(yl),g({key:5,ref_key:"fieldInstance",ref:V,class:"plus-form-item-field"},k.value),{default:h(()=>[X(J(p.value),1)]),_:1},16)):(t(),m(e(S),g({key:6,ref_key:"fieldInstance",ref:V,modelValue:p.value,"onUpdate:modelValue":C[3]||(C[3]=v=>p.value=v),class:"plus-form-item-field",placeholder:e(c)("plus.field.pleaseEnter")+W.value,autocomplete:"off",clearable:""},k.value,{"onUpdate:modelValue":z}),le({_:2},[U(l.fieldSlots,(v,x)=>({name:x,fn:h(ee=>[(t(),m(L(v),g({"model-value":p.value,column:Y.value},ee),null,16,["model-value","column"]))])}))]),1040,["modelValue","placeholder"]))]),_:2},[l.hasLabel?{name:"label",fn:h(({label:v})=>[Ce("span",la,[l.renderLabel&&e(G)(l.renderLabel)?(t(),D(N,{key:0},[K.value?(t(),m(e(Le),{key:0,render:l.renderLabel,params:Y.value,"callback-value":v,"custom-field-props":k.value},null,8,["render","params","callback-value","custom-field-props"])):R("v-if",!0)],64)):w(l.$slots,e(ue)(l.prop),{key:1,prop:l.prop,label:W.value,fieldProps:k.value,valueType:l.valueType,column:Y.value},()=>[X(J(v),1)]),l.tooltip?(t(),m(e(n),g({key:2,placement:"top"},e($l)(l.tooltip)),{default:h(()=>[w(l.$slots,"tooltip-icon",{},()=>[ae(e(b),{class:"plus-table-column__label__icon",size:16},{default:h(()=>[ae(e(hl))]),_:1})])]),_:3},16)):R("v-if",!0)])]),key:"0"}:void 0]),1040,["label","prop","label-width"])):R("v-if",!0)}}}),oa=te(aa,[["__file","index.vue"]]);const ta=oa,sa={key:0,class:"plus-form-item-extra"};var na=oe({name:"PlusFormContent",__name:"form-content",props:{modelValue:{default:()=>({})},hasLabel:{type:Boolean,default:!0},columns:{default:()=>[]},rowProps:{default:()=>({})},colProps:{default:()=>({})}},emits:["update:modelValue","change"],setup(s,{emit:o}){const d=s,u=o,n=T({}),b=a=>{const f=e(a);return Dl(f)?f:d.hasLabel};Z(()=>d.modelValue,a=>{n.value=a},{immediate:!0});const S=a=>wl(n.value,a),y=(a,f)=>{Ll(n.value,f.prop,a),u("update:modelValue",n.value),u("change",n.value,f)};return(a,f)=>(t(),m(e(Pl),g(a.rowProps,{class:"plus-form__row"}),{default:h(()=>[(t(!0),D(N,null,U(a.columns,P=>(t(),m(e(Vl),g({key:P.prop},P.colProps||a.colProps),{default:h(()=>[ae(e(ta),g({"model-value":S(P.prop)},P,{"has-label":b(P.hasLabel),onChange:c=>y(c,P)}),le({_:2},[a.$slots[e(ue)(P.prop)]?{name:e(ue)(P.prop),fn:h(c=>[w(a.$slots,e(ue)(P.prop),j(Q(c)))]),key:"0"}:void 0,a.$slots[e(se)(P.prop)]?{name:e(se)(P.prop),fn:h(c=>[w(a.$slots,e(se)(P.prop),j(Q(c)))]),key:"1"}:void 0,a.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:h(()=>[w(a.$slots,"tooltip-icon")]),key:"2"}:void 0]),1040,["model-value","has-label","onChange"]),R(" el-form-item 下一行额外的内容 "),P.renderExtra||a.$slots[e(ie)(P.prop)]?(t(),D("div",sa,[P.renderExtra&&e(G)(P.renderExtra)?(t(),m(L(P.renderExtra),j(g({key:0},P)),null,16)):a.$slots[e(ie)(P.prop)]?w(a.$slots,e(ie)(P.prop),j(g({key:1},P))):R("v-if",!0)])):R("v-if",!0)]),_:2},1040))),128)),R(" 搜索的footer插槽  "),w(a.$slots,"search-footer")]),_:3},16))}}),Re=te(na,[["__file","form-content.vue"]]);const ua={class:"plus-form__group__item__icon"};var ra=oe({name:"PlusForm",inheritAttrs:!1,__name:"index",props:{modelValue:{default:()=>({})},defaultValues:{default:()=>({})},columns:{default:()=>[]},labelWidth:{default:"80px"},labelPosition:{default:"left"},rowProps:{default:()=>({})},colProps:{default:()=>({})},labelSuffix:{default:":"},hasErrorTip:{type:Boolean,default:!0},hasFooter:{type:Boolean,default:!0},hasReset:{type:Boolean,default:!0},hasLabel:{type:Boolean,default:!0},submitText:{default:""},resetText:{default:""},submitLoading:{type:Boolean,default:!1},footerAlign:{default:"left"},rules:{default:()=>({})},group:{type:[Boolean,Array],default:!1},cardProps:{default:()=>({})},prevent:{type:Boolean,default:!1}},emits:["update:modelValue","submit","change","reset","submitError","validate"],setup(s,{expose:o,emit:d}){const u=s,n=d,{t:b}=ce(),S=T(null),y=T({}),a=r=>r.filter(M=>e(M.hideInForm)!==!0),f=q(()=>y.value),P=q(()=>({justifyContent:u.footerAlign==="left"?"flex-start":u.footerAlign==="center"?"center":"flex-end"})),c=q(()=>a(u.columns)),O=q(()=>{var r;return re(u.group)?(r=u.group)==null?void 0:r.filter(M=>e(M.hideInGroup)!==!0):u.group}),i=Pe(),A=q(()=>F(F({},i),u.prevent?{onSubmit:ke((...r)=>{i!=null&&i.onSubmit&&G(i==null?void 0:i.onSubmit)&&i.onSubmit(...r)},["prevent"])}:{})),V=Cl(),I=ve(V,ue()),k=ve(V,se()),p=ve(V,ie());Z(()=>u.modelValue,r=>{y.value=r},{immediate:!0});const H=(r,M)=>{n("update:modelValue",y.value),n("change",y.value,M)},K=()=>{var r;(r=S.value)==null||r.clearValidate()},W=()=>Te(this,null,function*(){var r,M,_;try{if(yield(r=S.value)==null?void 0:r.validate())return n("submit",y.value),!0}catch($){if(u.hasErrorTip){$e.closeAll();const B=Rl($)&&Object.values($),z=B?(_=(M=B[0])==null?void 0:M[0])==null?void 0:_.message:void 0;$e.warning(z||b("plus.form.errorTip"))}n("submitError",$)}return!1}),Y=()=>{K(),y.value=F({},u.defaultValues),n("update:modelValue",y.value),n("reset",y.value)},fe=(...r)=>{n("validate",...r)};return o({formInstance:S,handleSubmit:W,handleReset:Y}),(r,M)=>(t(),m(e(Tl),g({ref_key:"formInstance",ref:S,rules:r.rules,"label-width":r.hasLabel?r.labelWidth:0,class:["plus-form",r.hasLabel?"":"no-has-label"],"label-position":r.labelPosition,"validate-on-rule-change":!1,"label-suffix":r.hasLabel?r.labelSuffix:""},A.value,{model:f.value,onValidate:fe}),{default:h(()=>[w(r.$slots,"default",{},()=>[R(" 分组表单 "),O.value?(t(!0),D(N,{key:0},U(O.value,_=>(t(),m(e(El),g({key:_.title},_.cardProps||r.cardProps,{class:"plus-form__group__item"}),{header:h(()=>[w(r.$slots,"group-header",{title:_.title,columns:_.columns,icon:_.icon},()=>[Ce("div",ua,[_.icon?(t(),m(e(Ge),{key:0},{default:h(()=>[(t(),m(L(_.icon)))]),_:2},1024)):R("v-if",!0),X(" "+J(_.title),1)])])]),default:h(()=>[ae(Re,{modelValue:y.value,"onUpdate:modelValue":M[0]||(M[0]=$=>y.value=$),"row-props":r.rowProps,"col-props":r.colProps,columns:a(_.columns),onChange:H},le({_:2},[U(e(I),($,B)=>({name:B,fn:h(z=>[w(r.$slots,B,j(Q(z)))])})),U(e(k),($,B)=>({name:B,fn:h(z=>[w(r.$slots,B,j(Q(z)))])})),U(e(p),($,B)=>({name:B,fn:h(z=>[w(r.$slots,B,j(Q(z)))])})),r.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:h(()=>[w(r.$slots,"tooltip-icon")]),key:"0"}:void 0]),1032,["modelValue","row-props","col-props","columns"])]),_:2},1040))),128)):(t(),D(N,{key:1},[R(" 普通表单 "),ae(Re,{modelValue:y.value,"onUpdate:modelValue":M[1]||(M[1]=_=>y.value=_),"row-props":r.rowProps,"col-props":r.colProps,columns:c.value,"has-label":r.hasLabel,onChange:H},le({_:2},[U(e(I),(_,$)=>({name:$,fn:h(B=>[w(r.$slots,$,j(Q(B)))])})),U(e(k),(_,$)=>({name:$,fn:h(B=>[w(r.$slots,$,j(Q(B)))])})),U(e(p),(_,$)=>({name:$,fn:h(B=>[w(r.$slots,$,j(Q(B)))])})),r.$slots["search-footer"]?{name:"search-footer",fn:h(()=>[w(r.$slots,"search-footer")]),key:"0"}:void 0,r.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:h(()=>[w(r.$slots,"tooltip-icon")]),key:"1"}:void 0]),1032,["modelValue","row-props","col-props","columns","has-label"])],64))]),r.hasFooter?(t(),D("div",{key:0,class:"plus-form__footer",style:Sl(P.value)},[w(r.$slots,"footer",j(Q({handleReset:Y,handleSubmit:W})),()=>[r.hasReset?(t(),m(e(Fe),{key:0,onClick:Y},{default:h(()=>[R(" 重置 "),X(" "+J(r.resetText||e(b)("plus.form.resetText")),1)]),_:1})):R("v-if",!0),ae(e(Fe),{type:"primary",loading:r.submitLoading,onClick:W},{default:h(()=>[R(" 提交 "),X(" "+J(r.submitText||e(b)("plus.form.submitText")),1)]),_:1},8,["loading"])])],4)):R("v-if",!0)]),_:3},16,["rules","label-width","class","label-position","label-suffix","model"]))}}),da=te(ra,[["__file","index.vue"]]);const fa=da;export{fa as P,ce as u};

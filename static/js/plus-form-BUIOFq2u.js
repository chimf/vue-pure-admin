var nl=Object.defineProperty,sl=Object.defineProperties;var rl=Object.getOwnPropertyDescriptors;var dt=Object.getOwnPropertySymbols;var ul=Object.prototype.hasOwnProperty,il=Object.prototype.propertyIsEnumerable;var pt=(e,t,a)=>t in e?nl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,V=(e,t)=>{for(var a in t||(t={}))ul.call(t,a)&&pt(e,a,t[a]);if(dt)for(var a of dt(t))il.call(t,a)&&pt(e,a,t[a]);return e},te=(e,t)=>sl(e,rl(t));var Ie=(e,t,a)=>new Promise((o,s)=>{var r=n=>{try{i(a.next(n))}catch(v){s(v)}},d=n=>{try{i(a.throw(n))}catch(v){s(v)}},i=n=>n.done?o(n.value):Promise.resolve(n.value).then(r,d);i((a=a.apply(e,t)).next())});import{dv as re,a as S,m as Ye,N as dl,u as l,dw as pl,dx as gt,dy as Et,dz as cl,dA as fl,aD as ke,dB as vl,dC as q,dD as ml,d as U,p as A,dE as hl,dF as bl,dG as yl,dH as Be,dI as wt,n as J,z as kt,b2 as Ct,Q as D,dJ as pe,b6 as be,f as p,k as B,s as Ce,v as ie,a3 as C,dK as gl,dL as El,i as x,w,F as G,h as se,t as oe,j as H,dM as wl,dN as kl,dO as ve,b as k,a$ as Cl,r as fe,dc as Ee,dP as Pl,dQ as Vl,ao as K,bj as ae,dR as Pt,dS as $l,c$ as Sl,dT as Vt,dU as de,dV as $t,dW as We,dX as Tl,B as qe,a0 as Il,l as Y,q as Pe,g as Ve,dY as St,y as De,dZ as _l,d_ as Qe,d$ as Dl,an as ue,e0 as ye,e1 as Xe,e2 as Fl,e3 as Rl,e4 as Tt,e5 as Ol,am as Bl,e6 as Ll,e7 as Al,e8 as Ml,e9 as Nl,dh as ze,ea as Hl,eb as jl,ec as It,ed as Ul,ee as Wl,ef as _t,eg as zl,eh as Kl,ei as Dt,ej as Gl,ek as Ft,aX as Rt,el as Yl,em as ql,en as Ql,eo as Ot,ep as Xl,eq as Zl,er as Jl,es as xl,et as eo,eu as to,ev as Re,ew as lo,ex as oo,di as ao,ey as Bt,dk as no,ez as so,eA as ro,eB as uo,eC as io,eD as Lt,dn as At,ds as Ze,eE as po,eF as co,eG as Mt,dr as fo,eH as vo,eI as mo,eJ as ho,eK as bo,eL as yo,eM as go,eN as Eo,eO as wo,eP as ko,eQ as Co,eR as Oe,eS as Po,eT as Je,eU as Nt,eV as Vo,eW as Ht,eX as xe,eY as et,eZ as $o,e_ as So,e$ as To,f0 as Io,f1 as jt,f2 as _o,f3 as Do,f4 as Fo,dm as Ro,dl as Oo,f5 as Ut,f6 as Bo,f7 as Lo,f8 as Ao,f9 as Mo,fa as No,fb as Wt,fc as zt,fd as Kt,fe as Gt,ff as Ho,fg as jo,fh as Yt,fi as Uo,fj as qt,fk as Wo,aQ as zo,fl as Ko,fm as Go,fn as Yo,fo as qo,fp as Qo,fq as Xo,a5 as Zo,b7 as Jo,dj as Ke,fr as xo,fs as ea,ft as ta,bK as Qt,dd as la,fu as oa,d1 as aa,fv as na,fw as sa,U as Q,aB as ra,fx as tt,fy as Xt,a4 as ct,fz as ua,bi as ia,K as da,aU as pa}from"./index-5zWoanhF.js";import{a as lt,b as $e,i as Z,c as Ge,t as Zt,d as Se,_ as ce,e as Ne,f as ca}from"./_plugin-vue_export-helper-C_DISmKY.js";const ft=Symbol("INSTALLED_KEY");re({});const fa=e=>{if(!gt)return;if(!e)return e;const t=Et(e);return t||(ke(e)?t:e)},va=({middleware:e,placement:t,strategy:a})=>{const o=S(),s=S(),r=S(),d=S(),i=S({}),n={x:r,y:d,placement:t,strategy:a,middlewareData:i},v=()=>Ie(void 0,null,function*(){if(!gt)return;const b=fa(o),m=Et(s);if(!b||!m)return;const T=yield cl(b,m,{placement:l(t),strategy:l(a),middleware:l(e)});fl(n).forEach(c=>{n[c].value=T[c]})});return Ye(()=>{dl(()=>{v()})}),te(V({},n),{update:v,referenceRef:o,contentRef:s})},ma=({arrowRef:e,padding:t})=>({name:"arrow",options:{element:e,padding:t},fn(a){const o=l(e);return o?pl({element:o,padding:t}).fn(a):{}}}),ha="2.8.3",ba=(e=[])=>({version:ha,install:(a,o)=>{a[ft]||(a[ft]=!0,e.forEach(s=>a.use(s)),o&&vl(o,a,!0))}}),Jt=re({nowrap:Boolean});var xt=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(xt||{});const ya=Object.values(xt),ot=re({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:q(Object),default:null}}),ga=re({side:{type:q(String),values:ya,required:!0}}),Ea=["absolute","fixed"],wa=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],at=re(V({arrowPadding:{type:q(Number),default:5},effect:{type:q(String),default:"light"},contentClass:String,placement:{type:q(String),values:wa,default:"bottom"},reference:{type:q(Object),default:null},offset:{type:Number,default:8},strategy:{type:q(String),values:Ea,default:"absolute"},showArrow:Boolean},ml(["ariaLabel"]))),nt=re({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:q(Function)},"onUpdate:open":{type:q(Function)}}),me={type:q(Function)},st=re({onBlur:me,onClick:me,onFocus:me,onMouseDown:me,onMouseEnter:me,onMouseLeave:me}),ka=re(te(V(V(V(V({},nt),ot),st),at),{alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:q(Object),default:null},teleported:Boolean,to:{type:q(String),default:"body"}})),Le=Symbol("tooltipV2"),el=Symbol("tooltipV2Content"),He="tooltip_v2.open",Ca=U({name:"ElTooltipV2Root"}),Pa=U(te(V({},Ca),{props:nt,setup(e,{expose:t}){const a=e,o=S(a.defaultOpen),s=S(null),r=A({get:()=>hl(a.open)?o.value:a.open,set:P=>{var E;o.value=P,(E=a["onUpdate:open"])==null||E.call(a,P)}}),d=A(()=>bl(a.delayDuration)&&a.delayDuration>0),{start:i,stop:n}=yl(()=>{r.value=!0},A(()=>a.delayDuration),{immediate:!1}),v=Be("tooltip-v2"),b=wt(),m=()=>{n(),r.value=!0},T=()=>{l(d)?i():m()},c=m,I=()=>{n(),r.value=!1};return J(r,P=>{var E;P&&(document.dispatchEvent(new CustomEvent(He)),c()),(E=a.onOpenChange)==null||E.call(a,P)}),Ye(()=>{document.addEventListener(He,I)}),kt(()=>{n(),document.removeEventListener(He,I)}),Ct(Le,{contentId:b,triggerRef:s,ns:v,onClose:I,onDelayOpen:T,onOpen:c}),t({onOpen:c,onClose:I}),(P,E)=>D(P.$slots,"default",{open:l(r)})}}));var Va=pe(Pa,[["__file","root.vue"]]);const $a=U({name:"ElTooltipV2Arrow"}),Sa=U(te(V({},$a),{props:V(V({},ot),ga),setup(e){const t=e,{ns:a}=be(Le),{arrowRef:o}=be(el),s=A(()=>{const{style:r,width:d,height:i}=t,n=a.namespace.value;return V({[`--${n}-tooltip-v2-arrow-width`]:`${d}px`,[`--${n}-tooltip-v2-arrow-height`]:`${i}px`,[`--${n}-tooltip-v2-arrow-border-width`]:`${d/2}px`,[`--${n}-tooltip-v2-arrow-cover-width`]:d/2-1},r||{})});return(r,d)=>(p(),B("span",{ref_key:"arrowRef",ref:o,style:Ce(l(s)),class:ie(l(a).e("arrow"))},null,6))}}));var vt=pe(Sa,[["__file","arrow.vue"]]);const Ta=re({style:{type:q([String,Object,Array]),default:()=>({})}}),Ia=U({name:"ElVisuallyHidden"}),_a=U(te(V({},Ia),{props:Ta,setup(e){const t=e,a=A(()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(o,s)=>(p(),B("span",C(o.$attrs,{style:l(a)}),[D(o.$slots,"default")],16))}}));var Da=pe(_a,[["__file","visual-hidden.vue"]]);const Fa=U({name:"ElTooltipV2Content"}),Ra=U(te(V({},Fa),{props:V(V({},at),Jt),setup(e){const t=e,{triggerRef:a,contentId:o}=be(Le),s=S(t.placement),r=S(t.strategy),d=S(null),{referenceRef:i,contentRef:n,middlewareData:v,x:b,y:m,update:T}=va({placement:s,strategy:r,middleware:A(()=>{const f=[gl(t.offset)];return t.showArrow&&f.push(ma({arrowRef:d})),f})}),c=El().nextZIndex(),I=Be("tooltip-v2"),L=A(()=>s.value.split("-")[0]),P=A(()=>({position:l(r),top:`${l(m)||0}px`,left:`${l(b)||0}px`,zIndex:c})),E=A(()=>{if(!t.showArrow)return{};const{arrow:f}=l(v);return{[`--${I.namespace.value}-tooltip-v2-arrow-x`]:`${f==null?void 0:f.x}px`||"",[`--${I.namespace.value}-tooltip-v2-arrow-y`]:`${f==null?void 0:f.y}px`||""}}),y=A(()=>[I.e("content"),I.is("dark",t.effect==="dark"),I.is(l(r)),t.contentClass]);return J(d,()=>T()),J(()=>t.placement,f=>s.value=f),Ye(()=>{J(()=>t.reference||a.value,f=>{i.value=f||void 0},{immediate:!0})}),Ct(el,{arrowRef:d}),(f,M)=>(p(),B("div",{ref_key:"contentRef",ref:n,style:Ce(l(P)),"data-tooltip-v2-root":""},[f.nowrap?H("v-if",!0):(p(),B("div",{key:0,"data-side":l(L),class:ie(l(y))},[D(f.$slots,"default",{contentStyle:l(P),contentClass:l(y)}),x(l(Da),{id:l(o),role:"tooltip"},{default:w(()=>[f.ariaLabel?(p(),B(G,{key:0},[se(oe(f.ariaLabel),1)],64)):D(f.$slots,"default",{key:1})]),_:3},8,["id"]),D(f.$slots,"arrow",{style:Ce(l(E)),side:l(L)})],10,["data-side"]))],4))}}));var mt=pe(Ra,[["__file","content.vue"]]);const Oa=re({setRef:{type:q(Function),required:!0},onlyChild:Boolean});var Ba=U({props:Oa,setup(e,{slots:t}){const a=S(),o=kl(a,s=>{s?e.setRef(s.nextElementSibling):e.setRef(null)});return()=>{var s;const[r]=((s=t.default)==null?void 0:s.call(t))||[],d=e.onlyChild?wl(r.children):r.children;return x(G,{ref:o},[d])}}});const La=U({name:"ElTooltipV2Trigger"}),Aa=U(te(V({},La),{props:V(V({},Jt),st),setup(e){const t=e,{onClose:a,onOpen:o,onDelayOpen:s,triggerRef:r,contentId:d}=be(Le);let i=!1;const n=y=>{r.value=y},v=()=>{i=!1},b=ve(t.onMouseEnter,s),m=ve(t.onMouseLeave,a),T=ve(t.onMouseDown,()=>{a(),i=!0,document.addEventListener("mouseup",v,{once:!0})}),c=ve(t.onFocus,()=>{i||o()}),I=ve(t.onBlur,a),L=ve(t.onClick,y=>{y.detail===0&&a()}),P={blur:I,click:L,focus:c,mousedown:T,mouseenter:b,mouseleave:m},E=(y,f,M)=>{y&&Object.entries(f).forEach(([F,j])=>{y[M](F,j)})};return J(r,(y,f)=>{E(y,P,"addEventListener"),E(f,P,"removeEventListener"),y&&y.setAttribute("aria-describedby",d.value)}),kt(()=>{E(r.value,P,"removeEventListener"),document.removeEventListener("mouseup",v)}),(y,f)=>y.nowrap?(p(),k(l(Ba),{key:0,"set-ref":n,"only-child":""},{default:w(()=>[D(y.$slots,"default")]),_:3})):(p(),B("button",C({key:1,ref_key:"triggerRef",ref:r},y.$attrs),[D(y.$slots,"default")],16))}}));var Ma=pe(Aa,[["__file","trigger.vue"]]);const Na=U({name:"ElTooltipV2"}),Ha=U(te(V({},Na),{props:ka,setup(e){const a=Cl(e),o=fe(Ee(a,Object.keys(ot))),s=fe(Ee(a,Object.keys(at))),r=fe(Ee(a,Object.keys(nt))),d=fe(Ee(a,Object.keys(st)));return(i,n)=>(p(),k(Va,K(ae(r)),{default:w(({open:v})=>[x(Ma,C(d,{nowrap:""}),{default:w(()=>[D(i.$slots,"trigger")]),_:3},16),x(l(Pl),{to:i.to,disabled:!i.teleported},{default:w(()=>[i.fullTransition?(p(),k(Vl,K(C({key:0},i.transitionProps)),{default:w(()=>[i.alwaysOn||v?(p(),k(mt,K(C({key:0},s)),{arrow:w(({style:b,side:m})=>[i.showArrow?(p(),k(vt,C({key:0},o,{style:b,side:m}),null,16,["style","side"])):H("v-if",!0)]),default:w(()=>[D(i.$slots,"default")]),_:3},16)):H("v-if",!0)]),_:2},1040)):(p(),B(G,{key:1},[i.alwaysOn||v?(p(),k(mt,K(C({key:0},s)),{arrow:w(({style:b,side:m})=>[i.showArrow?(p(),k(vt,C({key:0},o,{style:b,side:m}),null,16,["style","side"])):H("v-if",!0)]),default:w(()=>[D(i.$slots,"default")]),_:3},16)):H("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}}));var ja=pe(Ha,[["__file","tooltip.vue"]]);const Ua=Pt(ja),Wa=(e,t)=>{const a=e.toLowerCase();return(t.label||t.value).toLowerCase().includes(a)},za=(e,t,a)=>{const{selectionEnd:o}=e;if(o===null)return;const s=e.value,r=Sl(t);let d=-1,i;for(let n=o-1;n>=0;--n){const v=s[n];if(v===a||v===`
`||v==="\r"){d=n;continue}if(r.includes(v)){const b=d===-1?o:d;i={pattern:s.slice(n+1,b),start:n+1,end:b,prefix:v,prefixIndex:n,splitIndex:d,selectionEnd:o};break}}return i},Ka=(e,t={debug:!1,useSelectionEnd:!1})=>{const a=e.selectionStart!==null?e.selectionStart:0,o=e.selectionEnd!==null?e.selectionEnd:0,s=t.useSelectionEnd?o:a,r=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(t.debug){const T=document.querySelector("#input-textarea-caret-position-mirror-div");T!=null&&T.parentNode&&T.parentNode.removeChild(T)}const d=document.createElement("div");d.id="input-textarea-caret-position-mirror-div",document.body.appendChild(d);const i=d.style,n=window.getComputedStyle(e),v=e.nodeName==="INPUT";i.whiteSpace=v?"nowrap":"pre-wrap",v||(i.wordWrap="break-word"),i.position="absolute",t.debug||(i.visibility="hidden"),r.forEach(T=>{if(v&&T==="lineHeight")if(n.boxSizing==="border-box"){const c=Number.parseInt(n.height),I=Number.parseInt(n.paddingTop)+Number.parseInt(n.paddingBottom)+Number.parseInt(n.borderTopWidth)+Number.parseInt(n.borderBottomWidth),L=I+Number.parseInt(n.lineHeight);c>L?i.lineHeight=`${c-I}px`:c===L?i.lineHeight=n.lineHeight:i.lineHeight="0"}else i.lineHeight=n.height;else i[T]=n[T]}),$l()?e.scrollHeight>Number.parseInt(n.height)&&(i.overflowY="scroll"):i.overflow="hidden",d.textContent=e.value.slice(0,Math.max(0,s)),v&&d.textContent&&(d.textContent=d.textContent.replace(/\s/g," "));const b=document.createElement("span");b.textContent=e.value.slice(Math.max(0,s))||".",b.style.position="relative",b.style.left=`${-e.scrollLeft}px`,b.style.top=`${-e.scrollTop}px`,d.appendChild(b);const m={top:b.offsetTop+Number.parseInt(n.borderTopWidth),left:b.offsetLeft+Number.parseInt(n.borderLeftWidth),height:Number.parseInt(n.fontSize)*1.5};return t.debug?b.style.backgroundColor="#aaa":document.body.removeChild(d),m.left>=e.clientWidth&&(m.left=e.clientWidth),m},Ga=re(te(V({},Vt),{options:{type:q(Array),default:()=>[]},prefix:{type:q([String,Array]),default:"@",validator:e=>de(e)?e.length===1:e.every(t=>de(t)&&t.length===1)},split:{type:String,default:" ",validator:e=>e.length===1},filterOption:{type:q([Boolean,Function]),default:()=>Wa,validator:e=>e===!1?!0:$t(e)},placement:{type:q(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:q(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:q(Object),default:()=>({})}})),Ya={[We]:e=>de(e),search:(e,t)=>de(e)&&de(t),select:(e,t)=>de(e.value)&&de(t),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},qa=re({options:{type:q(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),Qa={select:e=>de(e.value)},Xa=U({name:"ElMentionDropdown"}),Za=U(te(V({},Xa),{props:qa,emits:Qa,setup(e,{expose:t,emit:a}){const o=e,s=Be("mention"),{t:r}=Tl(),d=S(-1),i=S(),n=S(),v=S(),b=(f,M)=>[s.be("dropdown","item"),s.is("hovering",d.value===M),s.is("disabled",f.disabled||o.disabled)],m=f=>{f.disabled||o.disabled||a("select",f)},T=f=>{d.value=f},c=A(()=>o.disabled||o.options.every(f=>f.disabled)),I=A(()=>o.options[d.value]),L=()=>{I.value&&a("select",I.value)},P=f=>{const{options:M}=o;if(M.length===0||c.value)return;f==="next"?(d.value++,d.value===M.length&&(d.value=0)):f==="prev"&&(d.value--,d.value<0&&(d.value=M.length-1));const F=M[d.value];if(F.disabled){P(f);return}De(()=>E(F))},E=f=>{var M,F,j,ne;const{options:g}=o,z=g.findIndex(N=>N.value===f.value),W=(M=n.value)==null?void 0:M[z];if(W){const N=(j=(F=v.value)==null?void 0:F.querySelector)==null?void 0:j.call(F,`.${s.be("dropdown","wrap")}`);N&&_l(N,W)}(ne=i.value)==null||ne.handleScroll()};return J(()=>o.options,()=>{c.value||o.options.length===0?d.value=-1:d.value=0},{immediate:!0}),t({hoveringIndex:d,navigateOptions:P,selectHoverOption:L,hoverOption:I}),(f,M)=>(p(),B("div",{ref_key:"dropdownRef",ref:v,class:ie(l(s).b("dropdown"))},[f.$slots.header?(p(),B("div",{key:0,class:ie(l(s).be("dropdown","header"))},[D(f.$slots,"header")],2)):H("v-if",!0),qe(x(l(St),{id:f.contentId,ref_key:"scrollbarRef",ref:i,tag:"ul","wrap-class":l(s).be("dropdown","wrap"),"view-class":l(s).be("dropdown","list"),role:"listbox","aria-label":f.ariaLabel,"aria-orientation":"vertical"},{default:w(()=>[(p(!0),B(G,null,Y(f.options,(F,j)=>(p(),B("li",{id:`${f.contentId}-${j}`,ref_for:!0,ref_key:"optionRefs",ref:n,key:F.value,class:ie(b(F,j)),role:"option","aria-disabled":F.disabled||f.disabled||void 0,"aria-selected":d.value===j,onMouseenter:ne=>T(j),onClick:Pe(ne=>m(F),["stop"])},[D(f.$slots,"label",{item:F,index:j},()=>{var ne;return[Ve("span",null,oe((ne=F.label)!=null?ne:F.value),1)]})],42,["id","aria-disabled","aria-selected","onMouseenter","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[Il,f.options.length>0&&!f.loading]]),f.loading?(p(),B("div",{key:1,class:ie(l(s).be("dropdown","loading"))},[D(f.$slots,"loading",{},()=>[se(oe(l(r)("el.mention.loading")),1)])],2)):H("v-if",!0),f.$slots.footer?(p(),B("div",{key:2,class:ie(l(s).be("dropdown","footer"))},[D(f.$slots,"footer")],2)):H("v-if",!0)],2))}}));var Ja=pe(Za,[["__file","mention-dropdown.vue"]]);const xa=U({name:"ElMention"}),en=U(te(V({},xa),{props:Ga,emits:Ya,setup(e,{expose:t,emit:a}){const o=e,s=A(()=>Ee(o,Object.keys(Vt))),r=Be("mention"),d=Qe(),i=wt(),n=S(),v=S(),b=S(),m=S(!1),T=S(),c=S(),I=A(()=>o.showArrow?o.placement:`${o.placement}-start`),L=A(()=>o.showArrow?["bottom","top"]:["bottom-start","top-start"]),P=A(()=>{const{filterOption:h,options:_}=o;return!c.value||!h?_:_.filter(X=>h(c.value.pattern,X))}),E=A(()=>m.value&&(!!P.value.length||o.loading)),y=A(()=>{var h;return`${i.value}-${(h=b.value)==null?void 0:h.hoveringIndex}`}),f=h=>{a("update:modelValue",h),z()},M=h=>{var _,X,u,R;if("key"in h&&!((_=n.value)!=null&&_.isComposing)){if(["ArrowLeft","ArrowRight"].includes(h.key))z();else if(["ArrowUp","ArrowDown"].includes(h.key)){if(!m.value)return;h.preventDefault();const O=h.key==="ArrowUp"?"prev":"next";(X=b.value)==null||X.navigateOptions(O)}else if(["Enter"].includes(h.key)){if(!m.value)return;h.preventDefault(),(u=b.value)!=null&&u.hoverOption?(R=b.value)==null||R.selectHoverOption():m.value=!1}else if(["Escape"].includes(h.key)){if(!m.value)return;h.preventDefault(),m.value=!1}else if(["Backspace"].includes(h.key)&&o.whole&&c.value){const{splitIndex:O,selectionEnd:$,pattern:le,prefixIndex:ee,prefix:ol}=c.value,Te=g();if(!Te)return;const ut=Te.value,al=o.options.find(Me=>Me.value===le);if(($t(o.checkIsWhole)?o.checkIsWhole(le,ol):al)&&O!==-1&&O+1===$){h.preventDefault();const Me=ut.slice(0,ee)+ut.slice(O+1);a(We,Me);const it=ee;De(()=>{Te.selectionStart=it,Te.selectionEnd=it,N()})}}}},{wrapperRef:F}=Dl(n,{beforeFocus(){return d.value},afterFocus(){z()},beforeBlur(h){var _;return(_=v.value)==null?void 0:_.isFocusInsideContent(h)},afterBlur(){m.value=!1}}),j=()=>{z()},ne=h=>{if(!c.value)return;const _=g();if(!_)return;const X=_.value,{split:u}=o,R=X.slice(c.value.end),O=R.startsWith(u),$=`${h.value}${O?"":u}`,le=X.slice(0,c.value.start)+$+R;a(We,le),a("select",h,c.value.prefix);const ee=c.value.start+$.length+(O?1:0);De(()=>{_.selectionStart=ee,_.selectionEnd=ee,_.focus(),N()})},g=()=>{var h,_;return o.type==="textarea"?(h=n.value)==null?void 0:h.textarea:(_=n.value)==null?void 0:_.input},z=()=>{setTimeout(()=>{W(),N(),De(()=>{var h;return(h=v.value)==null?void 0:h.updatePopper()})},0)},W=()=>{const h=g();if(!h)return;const _=Ka(h),X=h.getBoundingClientRect(),u=n.value.$el.getBoundingClientRect();T.value={position:"absolute",width:0,height:`${_.height}px`,left:`${_.left+X.left-u.left}px`,top:`${_.top+X.top-u.top}px`}},N=()=>{const h=g();if(document.activeElement!==h){m.value=!1;return}const{prefix:_,split:X}=o;if(c.value=za(h,_,X),c.value&&c.value.splitIndex===-1){m.value=!0,a("search",c.value.pattern,c.value.prefix);return}m.value=!1};return t({input:n,tooltip:v}),(h,_)=>(p(),B("div",{ref_key:"wrapperRef",ref:F,class:ie(l(r).b())},[x(l(ye),C(C(l(s),h.$attrs),{ref_key:"elInputRef",ref:n,"model-value":h.modelValue,disabled:l(d),role:l(E)?"combobox":void 0,"aria-activedescendant":l(E)?l(y)||"":void 0,"aria-controls":l(E)?l(i):void 0,"aria-expanded":l(E)||void 0,"aria-label":h.ariaLabel,"aria-autocomplete":l(E)?"none":void 0,"aria-haspopup":l(E)?"listbox":void 0,onInput:f,onKeydown:M,onMousedown:j}),ue({_:2},[Y(h.$slots,(X,u)=>({name:u,fn:w(R=>[D(h.$slots,u,K(ae(R)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),x(l(Xe),{ref_key:"tooltipRef",ref:v,visible:l(E),"popper-class":[l(r).e("popper"),h.popperClass],"popper-options":h.popperOptions,placement:l(I),"fallback-placements":l(L),effect:"light",pure:"",offset:h.offset,"show-arrow":h.showArrow},{default:w(()=>[Ve("div",{style:Ce(T.value)},null,4)]),content:w(()=>{var X;return[x(Ja,{ref_key:"dropdownRef",ref:b,options:l(P),disabled:l(d),loading:h.loading,"content-id":l(i),"aria-label":h.ariaLabel,onSelect:ne,onClick:Pe((X=n.value)==null?void 0:X.focus,["stop"])},ue({_:2},[Y(h.$slots,(u,R)=>({name:R,fn:w(O=>[D(h.$slots,R,K(ae(O)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}}));var tn=pe(en,[["__file","mention.vue"]]);const ln=Pt(tn);var on=[Fl,Rl,Tt,Ol,Bl,Ll,Al,Ml,Nl,ze,Hl,jl,It,Ul,Wl,_t,zl,Kl,Dt,Gl,Ft,Rt,Yl,ql,Ql,Ot,Xl,Zl,Jl,xl,eo,to,Re,lo,oo,ao,Bt,no,so,ro,uo,io,Lt,At,Ze,po,co,ye,Mt,fo,vo,mo,ho,bo,yo,go,Eo,wo,ko,Co,Oe,Po,Je,Nt,Vo,Ht,St,xe,et,$o,So,To,Io,jt,_o,Do,Fo,Ro,Oo,Ut,Bo,Lo,Ao,Mo,No,Wt,zt,Kt,Gt,Ho,jo,Xe,Ua,Yt,Uo,qt,Wo,zo,Ko,Go,Yo,qo,Qo,Xo,ln],an=[Zo,Jo,Ke,xo,ea,ta],nn=ba([...on,...an]);const sn=nn.version,rn=e=>{const t=l(e);return lt(t)?{content:t}:$e(t)?t:{content:""}},un=(e,t)=>{if(!$e(e))throw new Error(`${t} expected Object but got ${Zt(e)}`)},ht=(e,t,a,o,s)=>Ie(void 0,null,function*(){try{let r={};const d={row:a,index:o};return e?ke(e)?r=e.value:$e(e)?r=V({},e):Z(e)?r=yield e(t,d):Ge(e)?r=yield e:r=e:r={},un(r,s),r}catch(r){return Promise.reject(r)}}),rt=(e,t)=>t?`plus-${e}-${t}`:`plus-${e}`,he=e=>`${rt("field",e)}`,we=e=>`${rt("label",e)}`,Fe=e=>`${rt("extra",e)}`,je=(e,t)=>{const a={};return Object.keys(e||{}).forEach(o=>{o.startsWith(t)&&(a[o]=e[o])}),a},dn=(e,t)=>Qt(e,t),pn=(e,t,a)=>la(e,t,a),cn=(e,t)=>{const a=e.split(".").map(r=>Number(r)),o=t.split(".").map(r=>Number(r)),s=Math.max(a.length,o.length);for(let r=0;r<s;r++){if((a[r]||0)>(o[r]||0))return 1;if((a[r]||0)<(o[r]||0))return-1}return 0},tl=cn(sn,"2.6.0")<0,fn=e=>e?l(e):"",Ue=e=>{Se(e)||console.error("Uncaught TypeError: ",`options expected Array but got ${Zt(e)}`)},_e=(e,t)=>{const a=t.optionsMap;return t.valueType==="cascader"||!$e(a)?e:e.map(r=>{const d=aa(r),i=a.label||"label",n=a.value||"value",v={[i]:d[i],[n]:d[n]};return a.label&&Reflect.deleteProperty(d,i),a.value&&Reflect.deleteProperty(d,n),te(V({},d),{__origin:v,label:r[i],value:r[n]})})},vn=e=>{const t=S([]),a=S(!1);if(!e.options)t.value=[],a.value=!0;else if(ke(e.options)||oa(e.options)||Se(e.options))J(()=>e.options,o=>{const s=ke(o)?o.value:o;t.value=_e(s,e),a.value=!0},{immediate:!0,deep:!0});else if(Z(e.options)){const o=e.options,s=o(e);Ge(s)?s.then(r=>{t.value=_e(r,e),a.value=!0,Ue(t.value)}).catch(r=>{throw r}):(t.value=_e(s,e),a.value=!0)}else Ge(e.options)?e.options.then(s=>{t.value=_e(s,e),a.value=!0,Ue(t.value)}).catch(s=>{throw s}):(a.value=!0,Ue(e.options));return{customOptions:t,customOptionsIsReady:a}},mn=e=>(t,a)=>hn(t,a,l(e)),hn=(e,t,a)=>Qt(a,e,e).replace(/\{(\w+)\}/g,(o,s)=>{var r;return`${(r=t==null?void 0:t[s])!=null?r:`{${s}}`}`}),bn=e=>{const t=A(()=>l(e).name),a=ke(e)?e:S(e);return{lang:t,locale:a,t:mn(e)}},Ae=e=>{const t=be(na,S());return bn(A(()=>{var a;return(a=t.value)!=null&&a.plus?t.value:sa}))},yn=Symbol("tableFormFieldRefInjectionKey"),gn=["datetimerange","daterange","monthrange"],En=["rate","input-number","slider"],wn=["checkbox","cascader","plus-date-picker","plus-input-tag","transfer"];var kn=U({name:"PlusRender",__name:"index",props:{renderType:{default:void 0},callbackValue:{default:""},customFieldProps:{default:()=>({})},render:{},params:{default:()=>({})},handleChange:{}},setup(e){const t=e,a=S();J(()=>t.callbackValue,s=>{a.value=s},{flush:"post",immediate:!0});const o=()=>{if(!t.render)return;const s=V({},t.params),r=t.renderType==="form"?t.render(a.value,t.handleChange,s):t.render(a.value,s);if(ra(r)){const d=t.renderType==="form"?V(V({modelValue:a.value},t.customFieldProps),r.props):V(V({},t.customFieldProps),r.props);return te(V({},r),{props:d})}else if(lt(r))return r};return(s,r)=>s.renderType==="form"?(p(),k(Q(o),C({key:0,modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=d=>a.value=d)},s.customFieldProps),null,16,["modelValue"])):(p(),k(Q(o),K(C({key:1},s.customFieldProps)),null,16))}}),Cn=ce(kn,[["__file","index.vue"]]);const bt=Cn;var Pn=U({name:"PlusRadio",__name:"index",props:{modelValue:{type:[String,Number,Boolean],default:""},options:{default:()=>[]},isCancel:{type:Boolean,default:!0},fieldSlots:{default:void 0},fieldChildrenSlot:{default:void 0}},emits:["change","update:modelValue"],setup(e,{expose:t,emit:a}){const o=e,s=a,r=S(),d=S(),i=fe({radio:""});J(()=>o.modelValue,m=>{i.radio=m},{immediate:!0});const n=tt(),v=(m,T,c)=>{if(!(Reflect.has(n,"disabled")||c!=null&&c.disabled)){if(o.isCancel)m.preventDefault();else return;i.radio=i.radio===T?"":T,s("update:modelValue",i.radio),s("change",i.radio)}},b=m=>{o.isCancel||(s("update:modelValue",m),s("change",m))};return t({radioInstance:r,radioGroupInstance:d}),(m,T)=>(p(),k(l(Je),C({ref_key:"radioGroupInstance",ref:d,modelValue:i.radio,"onUpdate:modelValue":T[0]||(T[0]=c=>i.radio=c),class:"plus-radio"},m.$attrs),ue({default:w(()=>[l(tl)?(p(!0),B(G,{key:0},Y(m.options,c=>(p(),k(l(Oe),C({key:`${c.label}${c.value}`,ref_for:!0,ref_key:"radioInstance",ref:r,label:c.value},c.fieldItemProps,{onClick:I=>v(I,c.value,c.fieldItemProps),onChange:I=>b(c.value)}),{default:w(()=>[l(Z)(c.fieldSlot)?(p(),k(Q(c.fieldSlot),C({key:0,"model-value":i.radio,column:o},c),null,16,["model-value"])):l(Z)(m.fieldChildrenSlot)?(p(),k(Q(m.fieldChildrenSlot),C({key:1,"model-value":i.radio,column:o},c),null,16,["model-value"])):(p(),B(G,{key:2},[se(oe(c==null?void 0:c.label),1)],64))]),_:2},1040,["label","onClick","onChange"]))),128)):(p(),B(G,{key:1},[H(" element-plus 版本号大于等于2.6.0 "),(p(!0),B(G,null,Y(m.options,c=>(p(),k(l(Oe),C({key:`${c.label}${c.value}`,ref_for:!0,ref_key:"radioInstance",ref:r,value:c.value},c.fieldItemProps,{onClick:I=>v(I,c.value,c.fieldItemProps),onChange:I=>b(c.value)}),{default:w(()=>[l(Z)(c.fieldSlot)?(p(),k(Q(c.fieldSlot),C({key:0,"model-value":i.radio,column:o},c),null,16,["model-value"])):l(Z)(m.fieldChildrenSlot)?(p(),k(Q(m.fieldChildrenSlot),C({key:1,"model-value":i.radio,column:o},c),null,16,["model-value"])):(p(),B(G,{key:2},[se(oe(c==null?void 0:c.label),1)],64))]),_:2},1040,["value","onClick","onChange"]))),128))],64))]),_:2},[Y(m.fieldSlots,(c,I)=>({name:I,fn:w(L=>[(p(),k(Q(c),K(ae(L)),null,16))])}))]),1040,["modelValue"]))}}),Vn=ce(Pn,[["__file","index.vue"]]);const $n=Vn,Sn={class:"plus-date-picker__middle"};var Tn=U({name:"PlusDatePicker",__name:"index",props:{modelValue:{default:()=>[]},rangeSeparator:{default:"/"},valueFormat:{default:"YYYY-MM-DD HH:mm:ss"},type:{default:"datetime"},startProps:{default:()=>({})},endProps:{default:()=>({})},disabled:{type:Boolean,default:!1},startDisabledDate:{type:Function,default:(e,t)=>t?e.getTime()>new Date(t).getTime():!1},endDisabledDate:{type:Function,default:(e,t)=>t?e.getTime()<new Date(t).getTime():!1}},emits:["change","focus","update:modelValue"],setup(e,{expose:t,emit:a}){const o=e,s=a,{t:r}=Ae(),d=tt(),i=A(()=>V(V({},d),o.startProps)),n=A(()=>V(V({},d),o.endProps)),v=S(),b=S(),m=fe({start:"",end:""}),T=Qe(),c=S(!1),I=f=>{c.value=!0,s("focus",f)},L=()=>{c.value=!1},P=f=>o.startDisabledDate&&Z(o.startDisabledDate)?o.startDisabledDate(f,m.end):!1,E=f=>o.endDisabledDate&&Z(o.endDisabledDate)?o.endDisabledDate(f,m.start):!1;J(()=>o.modelValue,f=>{const[M,F]=f;m.start=M,m.end=F},{immediate:!0});const y=()=>{const f=[m.start,m.end];s("update:modelValue",f),s("change",f)};return t({startPickerInstance:v,endPickerInstance:b}),(f,M)=>qe((p(),B("div",{class:ie(["plus-date-picker",{"is-focus":c.value,"is-disabled":l(T)}])},[x(l(Re),C({ref_key:"startPickerInstance",ref:v,modelValue:m.start,"onUpdate:modelValue":M[0]||(M[0]=F=>m.start=F),type:f.type,"value-format":f.valueFormat,placeholder:l(r)("plus.datepicker.startPlaceholder"),"disabled-date":P,class:"plus-date-picker__start",clearable:"",disabled:l(T)},i.value,{onChange:y,onFocus:I}),null,16,["modelValue","type","value-format","placeholder","disabled"]),Ve("span",Sn,oe(f.rangeSeparator),1),x(l(Re),C({ref_key:"endPickerInstance",ref:b,modelValue:m.end,"onUpdate:modelValue":M[1]||(M[1]=F=>m.end=F),"value-format":f.valueFormat,type:f.type,placeholder:l(r)("plus.datepicker.endPlaceholder"),"disabled-date":E,class:"plus-date-picker__end",clearable:"",disabled:l(T)},n.value,{onChange:y,onFocus:I}),null,16,["modelValue","value-format","type","placeholder","disabled"])],2)),[[l(Xt),L]])}}),In=ce(Tn,[["__file","index.vue"]]);const _n=In;var Dn=U({name:"PlusInputTag",__name:"index",props:{modelValue:{default:()=>[]},trigger:{default:()=>["blur","enter","space"]},inputProps:{default:()=>({})},tagProps:{default:()=>({})},limit:{default:1/0},formatTag:{type:Function,default:void 0},retainInputValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change","remove","blur","enter","space"],setup(e,{expose:t,emit:a}){const o=e,s=a,r=S(),d=S(),i=S(),n=fe({tags:[],inputValue:"",isFocus:!1}),v=Qe(),{t:b}=Ae();J(()=>o.modelValue,P=>{n.tags=P.slice(0,o.limit)},{immediate:!0});const m=()=>{n.isFocus=!1},T=()=>{var P;n.isFocus=!0,(P=r.value)==null||P.focus()},c=P=>{v.value||(n.tags=n.tags.filter(E=>E!==P),s("remove",P),s("update:modelValue",n.tags),s("change",n.tags))},I=()=>{n.inputValue.trim()&&!n.tags.includes(n.inputValue.trim())&&n.tags.length<o.limit&&n.tags.push(n.inputValue.trim()),o.retainInputValue||(n.inputValue=""),s("update:modelValue",n.tags),s("change",n.tags)},L=(P,E)=>{s(E,n.inputValue,P),(Se(o.trigger)?o.trigger:lt(o.trigger)?[o.trigger]:["blur","enter","space"]).includes(E)&&I()};return t({inputInstance:r,tagInstance:d}),(P,E)=>qe((p(),B("div",{ref_key:"plusInputTagInstance",ref:i,class:ie(["plus-input-tag",{"is-focus":n.isFocus,"is-disabled":l(v)}]),onClick:T},[(p(!0),B(G,null,Y(n.tags,y=>(p(),k(l(Wt),C({ref_for:!0,ref_key:"tagInstance",ref:d,key:y,class:"plus-input-tag__tag"},P.tagProps,{closable:"",onClose:f=>c(y)}),{default:w(()=>[se(oe(P.formatTag&&l(Z)(P.formatTag)?P.formatTag(y):y),1)]),_:2},1040,["onClose"]))),128)),n.tags.length<P.limit?(p(),k(l(ye),C({key:0,ref_key:"inputInstance",ref:r,modelValue:n.inputValue,"onUpdate:modelValue":E[0]||(E[0]=y=>n.inputValue=y),class:"plus-input-tag__input",placeholder:n.tags.length?"":l(b)("plus.inputTag.placeholder"),disabled:l(v)||n.tags.length>=P.limit},P.inputProps,{clearable:"",onBlur:E[1]||(E[1]=y=>L(y,"blur")),onKeyup:[E[2]||(E[2]=ct(Pe(y=>L(y,"enter"),["exact"]),["enter"])),E[3]||(E[3]=ct(Pe(y=>L(y,"space"),["exact"]),["space"]))]}),null,16,["modelValue","placeholder","disabled"])):H("v-if",!0)],2)),[[l(Xt),m]])}}),Fn=ce(Dn,[["__file","index.vue"]]);const Rn=Fn,ll={"plus-radio":{component:$n,hasOptions:!0},"plus-date-picker":{component:_n},"plus-input-tag":{component:Rn},autocomplete:{component:Tt,props:{placeholder:"plus.field.pleaseEnter"},hasSelectEvent:!0},cascader:{component:_t,hasOptions:!0},checkbox:{component:Ft,children:Dt,hasVersionCompatibility:!0},"color-picker":{component:Ot},"date-picker":{component:Re,props:{startPlaceholder:"plus.datepicker.startPlaceholder",endPlaceholder:"plus.datepicker.endPlaceholder"}},"input-number":{component:Mt,props:{placeholder:"plus.field.pleaseEnter"}},radio:{component:Je,children:Oe,hasVersionCompatibility:!0},rate:{component:Nt},select:{component:xe,children:et},slider:{component:jt},switch:{component:Ut},"time-picker":{component:Kt},"time-select":{component:Gt},transfer:{component:Yt},input:{component:ye,props:{placeholder:"plus.field.pleaseEnter"}},textarea:{component:ye,props:{type:"textarea",placeholder:"plus.field.pleaseEnter"}},"tree-select":{component:qt}},On=e=>Object.keys(ll).includes(e),ge=e=>Reflect.get(ll,e)||{},Bn={class:"plus-form-item__label"};var Ln=U({name:"PlusFormItem",__name:"index",props:{modelValue:{default:""},hasLabel:{default:!0},label:{default:""},prop:{},fieldProps:{default:()=>({})},valueType:{default:void 0},options:{default:()=>[]},formItemProps:{default:()=>({})},renderField:{default:void 0},renderLabel:{default:void 0},tooltip:{default:""},fieldSlots:{default:()=>({})},fieldChildrenSlot:{default:void 0},optionsMap:{default:void 0},index:{default:0}},emits:["update:modelValue","change"],setup(e,{expose:t,emit:a}){const o=At,s=Xe,r=Ze,d=ye,i=xe,n=et,v=e,b=a,{t:m}=Ae(),{customOptions:T,customOptionsIsReady:c}=vn(v),I=S(),L=S(),P=S({}),E=S({}),y=S(),f=S(!1),M=S(!1),F=A(()=>fn(v.label)),j=A(()=>te(V({},v),{label:F.value})),ne=be(yn,{}),g=A(()=>{var u,R,O,$,le,ee;return v.valueType==="cascader"&&((R=(u=E.value)==null?void 0:u.props)==null?void 0:R.emitPath)===!1?!1:!!(wn.includes(v.valueType)||v.valueType==="select"&&((O=E.value)==null?void 0:O.multiple)===!0||v.valueType==="date-picker"&&gn.includes(($=E.value)==null?void 0:$.type)||v.valueType==="time-picker"&&((le=E.value)==null?void 0:le.isRange)===!0||v.valueType==="tree-select"&&((ee=E.value)==null?void 0:ee.multiple)===!0)}),z=A(()=>!!En.includes(v.valueType)),W=u=>{if(g.value)if(Se(u)){const[R,O]=u;Ne(R)||Ne(O)?y.value=[String(R),String(O)]:y.value=u}else y.value=[];else z.value?y.value=u==null||u===""?null:typeof u=="string"?Number(u):u:Ne(u)?y.value=String(u):y.value=u;M.value=!0},N=A(()=>{const{hasOptions:u,hasSelectEvent:R,props:O}=ge(v.valueType);return V(V(te(V(V(V({},u?{options:T.value}:null),R?{onSelect:X}:null),O),{placeholder:O!=null&&O.placeholder?m(O==null?void 0:O.placeholder)+F.value:m("plus.field.pleaseSelect")+F.value}),v.valueType==="date-picker"?{startPlaceholder:O!=null&&O.startPlaceholder?m(O==null?void 0:O.startPlaceholder):"",endPlaceholder:O!=null&&O.startPlaceholder?m(O==null?void 0:O.endPlaceholder):""}:null),E.value)}),h=u=>V(V({},v.valueType==="select"?{label:u.label,value:u.value}:tl?{label:u.value}:{label:u.label,value:u.value}),u.fieldItemProps);J(()=>v.formItemProps,u=>{ht(u,y.value,v,v.index,"formItemProps").then(R=>{P.value=R}).catch(R=>{throw R})},{immediate:!0,deep:!0}),J(()=>v.fieldProps,u=>{ht(u,y.value,v,v.index,"fieldProps").then(R=>{E.value=R,f.value=!0}).catch(R=>{throw R})},{immediate:!0,deep:!0}),J(A(()=>[v.modelValue,f.value,c.value]),([u,R,O])=>{R&&O&&W(u)},{immediate:!0,flush:"post"});const _=u=>{b("update:modelValue",u),b("change",u)},X=({value:u})=>{_(u)};return J(L,()=>{ne.value={fieldInstance:L.value,valueIsReady:M}}),t({formItemInstance:I,fieldInstance:L}),(u,R)=>{var O;return M.value?(p(),k(l(o),C({key:0,ref_key:"formItemInstance",ref:I,label:u.hasLabel?F.value:"",prop:u.prop,class:"plus-form-item"},P.value,{"label-width":u.hasLabel?(O=P.value)==null?void 0:O.labelWidth:"0px"}),ue({default:w(()=>[u.renderField&&l(Z)(u.renderField)?(p(),B(G,{key:0},[M.value?(p(),k(l(bt),{key:0,render:u.renderField,params:j.value,"callback-value":y.value,"custom-field-props":E.value,"render-type":"form","handle-change":_},null,8,["render","params","callback-value","custom-field-props"])):H("v-if",!0)],64)):u.$slots[l(he)(u.prop)]?D(u.$slots,l(he)(u.prop),{key:1,prop:u.prop,label:F.value,fieldProps:E.value,valueType:u.valueType,column:v}):u.valueType==="select"&&E.value.multiple===!0?(p(),k(l(i),C({key:2,ref_key:"fieldInstance",ref:L,modelValue:y.value,"onUpdate:modelValue":R[0]||(R[0]=$=>y.value=$),placeholder:l(m)("plus.field.pleaseSelect")+F.value,class:"plus-form-item-field",clearable:""},E.value,{"onUpdate:modelValue":_}),ue({default:w(()=>[(p(!0),B(G,null,Y(l(T),$=>(p(),k(l(n),C({key:$.label,label:$.label,value:$.value},$.fieldItemProps),{default:w(()=>[l(Z)($.fieldSlot)?(p(),k(Q($.fieldSlot),K(C({key:0},$)),null,16)):l(Z)(u.fieldChildrenSlot)?(p(),k(Q(u.fieldChildrenSlot),K(C({key:1},$)),null,16)):(p(),B(G,{key:2},[se(oe($.label),1)],64))]),_:2},1040,["label","value"]))),128))]),_:2},[Y(u.fieldSlots,($,le)=>({name:le,fn:w(ee=>[(p(),k(Q($),K(ae(ee)),null,16))])}))]),1040,["modelValue","placeholder"])):l(On)(u.valueType)?(p(),B(G,{key:3},[H(" 统一处理 "),H(" has-children  "),l(ge)(u.valueType).children?(p(),k(Q(l(ge)(u.valueType).component),C({key:0,ref_key:"fieldInstance",ref:L,modelValue:y.value,"onUpdate:modelValue":R[1]||(R[1]=$=>y.value=$),class:"plus-form-item-field",clearable:""},N.value,{"onUpdate:modelValue":_}),ue({default:w(()=>[(p(!0),B(G,null,Y(l(T),$=>(p(),k(Q(l(ge)(u.valueType).children),C({key:$.label},h($)),{default:w(()=>[l(Z)($.fieldSlot)?(p(),k(Q($.fieldSlot),C({key:0,"model-value":y.value,column:j.value},$),null,16,["model-value","column"])):l(Z)(u.fieldChildrenSlot)?(p(),k(Q(u.fieldChildrenSlot),C({key:1,"model-value":y.value,column:j.value},$),null,16,["model-value","column"])):(p(),B(G,{key:2},[se(oe($.label),1)],64))]),_:2},1040))),128))]),_:2},[Y(u.fieldSlots,($,le)=>({name:le,fn:w(ee=>[(p(),k(Q($),C({value:y.value,column:j.value},ee),null,16,["value","column"]))])}))]),1040,["modelValue"])):(p(),B(G,{key:1},[H(" no-children  "),(p(),k(Q(l(ge)(u.valueType).component),C({ref_key:"fieldInstance",ref:L,modelValue:y.value,"onUpdate:modelValue":R[2]||(R[2]=$=>y.value=$),class:"plus-form-item-field",clearable:"","field-children-slot":u.fieldChildrenSlot},N.value,{"onUpdate:modelValue":_}),ue({_:2},[Y(u.fieldSlots,($,le)=>({name:le,fn:w(ee=>[(p(),k(Q($),C({"model-value":y.value,column:j.value},ee),null,16,["model-value","column"]))])}))]),1040,["modelValue","field-children-slot"]))],2112))],64)):u.valueType==="text"?(p(),k(l(zt),C({key:4,ref_key:"fieldInstance",ref:L,class:"plus-form-item-field"},E.value),{default:w(()=>[se(oe(y.value),1)]),_:1},16)):u.valueType==="divider"?(p(),k(l(Bt),C({key:5,ref_key:"fieldInstance",ref:L,class:"plus-form-item-field"},E.value),{default:w(()=>[se(oe(y.value),1)]),_:1},16)):(p(),k(l(d),C({key:6,ref_key:"fieldInstance",ref:L,modelValue:y.value,"onUpdate:modelValue":R[3]||(R[3]=$=>y.value=$),class:"plus-form-item-field",placeholder:l(m)("plus.field.pleaseEnter")+F.value,autocomplete:"off",clearable:""},E.value,{"onUpdate:modelValue":_}),ue({_:2},[Y(u.fieldSlots,($,le)=>({name:le,fn:w(ee=>[(p(),k(Q($),C({"model-value":y.value,column:j.value},ee),null,16,["model-value","column"]))])}))]),1040,["modelValue","placeholder"]))]),_:2},[u.hasLabel?{name:"label",fn:w(({label:$})=>[Ve("span",Bn,[u.renderLabel&&l(Z)(u.renderLabel)?(p(),B(G,{key:0},[M.value?(p(),k(l(bt),{key:0,render:u.renderLabel,params:j.value,"callback-value":$,"custom-field-props":E.value},null,8,["render","params","callback-value","custom-field-props"])):H("v-if",!0)],64)):D(u.$slots,l(we)(u.prop),{key:1,prop:u.prop,label:F.value,fieldProps:E.value,valueType:u.valueType,column:j.value},()=>[se(oe($),1)]),u.tooltip?(p(),k(l(s),C({key:2,placement:"top"},l(rn)(u.tooltip)),{default:w(()=>[D(u.$slots,"tooltip-icon",{},()=>[x(l(r),{class:"plus-table-column__label__icon",size:16},{default:w(()=>[x(l(ua))]),_:1})])]),_:3},16)):H("v-if",!0)])]),key:"0"}:void 0]),1040,["label","prop","label-width"])):H("v-if",!0)}}}),An=ce(Ln,[["__file","index.vue"]]);const Mn=An;var Nn=U({name:"PlusCollapseTransition",__name:"collapse-transition",props:{collapseDuration:{default:300},collapseTransition:{type:Boolean,default:!0}},setup(e){const t=e,a={beforeEnter(o){o.style.opacity=0},enter(o,s){requestAnimationFrame(()=>{o.style.transition=`opacity ${t.collapseDuration}ms linear`,o.style.opacity=1,s()})},leave(o,s){o.style.opacity=0,setTimeout(()=>{s()},t.collapseDuration/3*2)}};return(o,s)=>o.collapseTransition?(p(),k(da,C({key:0,name:"plus-collapse-transition",css:!1},ia(a)),{default:w(()=>[D(o.$slots,"default")]),_:3},16)):D(o.$slots,"default",{key:1})}}),Hn=ce(Nn,[["__file","collapse-transition.vue"]]);const jn={key:0,class:"plus-form-item-extra"};var Un=U({name:"PlusFormContent",__name:"form-content",props:{modelValue:{default:()=>({})},hasLabel:{type:Boolean,default:!0},columns:{default:()=>[]},rowProps:{default:()=>({})},colProps:{default:()=>({})},collapseDuration:{default:void 0},collapseTransition:{type:Boolean,default:void 0}},emits:["update:modelValue","change"],setup(e,{emit:t}){const a=e,o=t,s=S({}),r=n=>{const v=l(n);return ca(v)?v:a.hasLabel};J(()=>a.modelValue,n=>{s.value=n},{immediate:!0});const d=n=>dn(s.value,n),i=(n,v)=>{pn(s.value,v.prop,n),o("update:modelValue",s.value),o("change",s.value,v)};return(n,v)=>(p(),k(l(Ht),C(n.rowProps,{class:"plus-form__row"}),{default:w(()=>[x(Hn,{"collapse-duration":n.collapseDuration,"collapse-transition":n.collapseTransition},{default:w(()=>[(p(!0),B(G,null,Y(n.columns,b=>(p(),k(l(Rt),C({key:b.prop},b.colProps||n.colProps),{default:w(()=>[x(l(Mn),C({"model-value":d(b.prop)},b,{"has-label":r(b.hasLabel),onChange:m=>i(m,b)}),ue({_:2},[n.$slots[l(we)(b.prop)]?{name:l(we)(b.prop),fn:w(m=>[D(n.$slots,l(we)(b.prop),K(ae(m)))]),key:"0"}:void 0,n.$slots[l(he)(b.prop)]?{name:l(he)(b.prop),fn:w(m=>[D(n.$slots,l(he)(b.prop),K(ae(m)))]),key:"1"}:void 0,n.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:w(()=>[D(n.$slots,"tooltip-icon")]),key:"2"}:void 0]),1040,["model-value","has-label","onChange"]),H(" el-form-item 下一行额外的内容 "),b.renderExtra||n.$slots[l(Fe)(b.prop)]?(p(),B("div",jn,[b.renderExtra&&l(Z)(b.renderExtra)?(p(),k(Q(b.renderExtra),K(C({key:0},b)),null,16)):n.$slots[l(Fe)(b.prop)]?D(n.$slots,l(Fe)(b.prop),K(C({key:1},b))):H("v-if",!0)])):H("v-if",!0)]),_:2},1040))),128))]),_:3},8,["collapse-duration","collapse-transition"]),H(" 搜索的footer插槽  "),D(n.$slots,"search-footer")]),_:3},16))}}),yt=ce(Un,[["__file","form-content.vue"]]);const Wn={class:"plus-form__group__item__icon"};var zn=U({name:"PlusForm",inheritAttrs:!1,__name:"index",props:{modelValue:{default:()=>({})},defaultValues:{default:()=>({})},columns:{default:()=>[]},labelWidth:{default:"80px"},labelPosition:{default:"left"},rowProps:{default:()=>({})},colProps:{default:()=>({})},labelSuffix:{default:":"},hasErrorTip:{type:Boolean,default:!0},hasFooter:{type:Boolean,default:!0},hasReset:{type:Boolean,default:!0},hasLabel:{type:Boolean,default:!0},submitText:{default:""},resetText:{default:""},submitLoading:{type:Boolean,default:!1},footerAlign:{default:"left"},rules:{default:()=>({})},group:{type:[Boolean,Array],default:!1},cardProps:{default:()=>({})},prevent:{type:Boolean,default:!1},collapseDuration:{default:void 0},collapseTransition:{type:Boolean,default:void 0}},emits:["update:modelValue","submit","change","reset","submitError","validate"],setup(e,{expose:t,emit:a}){const o=e,s=a,{t:r}=Ae(),d=S(null),i=S({}),n=g=>g.filter(z=>l(z.hideInForm)!==!0),v=A(()=>i.value),b=A(()=>({justifyContent:o.footerAlign==="left"?"flex-start":o.footerAlign==="center"?"center":"flex-end"})),m=A(()=>n(o.columns)),T=A(()=>{var g;return Se(o.group)?(g=o.group)==null?void 0:g.filter(z=>l(z.hideInGroup)!==!0):o.group}),c=tt(),I=A(()=>V(V({},c),o.prevent?{onSubmit:Pe((...g)=>{c!=null&&c.onSubmit&&Z(c==null?void 0:c.onSubmit)&&c.onSubmit(...g)},["prevent"])}:{})),L=pa(),P=je(L,we()),E=je(L,he()),y=je(L,Fe());J(()=>o.modelValue,g=>{i.value=g},{immediate:!0});const f=(g,z)=>{s("update:modelValue",i.value),s("change",i.value,z)},M=()=>{var g;(g=d.value)==null||g.clearValidate()},F=()=>Ie(this,null,function*(){var g,z,W;try{if(yield(g=d.value)==null?void 0:g.validate())return s("submit",i.value),!0}catch(N){if(o.hasErrorTip){Ke.closeAll();const h=$e(N)&&Object.values(N),_=h?(W=(z=h[0])==null?void 0:z[0])==null?void 0:W.message:void 0;Ke.warning(_||r("plus.form.errorTip"))}s("submitError",N)}return!1}),j=()=>{M(),i.value=V({},o.defaultValues),s("update:modelValue",i.value),s("reset",i.value)},ne=(...g)=>{s("validate",...g)};return t({formInstance:d,handleSubmit:F,handleReset:j}),(g,z)=>(p(),k(l(Lt),C({ref_key:"formInstance",ref:d,rules:g.rules,"label-width":g.hasLabel?g.labelWidth:0,class:["plus-form",g.hasLabel?"":"no-has-label"],"label-position":g.labelPosition,"validate-on-rule-change":!1,"label-suffix":g.hasLabel?g.labelSuffix:""},I.value,{model:v.value,onValidate:ne}),{default:w(()=>[D(g.$slots,"default",{},()=>[H(" 分组表单 "),T.value?(p(!0),B(G,{key:0},Y(T.value,W=>(p(),k(l(It),C({key:W.title},W.cardProps||g.cardProps,{class:"plus-form__group__item"}),{header:w(()=>[D(g.$slots,"group-header",{title:W.title,columns:W.columns,icon:W.icon},()=>[Ve("div",Wn,[W.icon?(p(),k(l(Ze),{key:0},{default:w(()=>[(p(),k(Q(W.icon)))]),_:2},1024)):H("v-if",!0),se(" "+oe(W.title),1)])])]),default:w(()=>[x(yt,{modelValue:i.value,"onUpdate:modelValue":z[0]||(z[0]=N=>i.value=N),"row-props":g.rowProps,"col-props":g.colProps,columns:n(W.columns),"has-label":g.hasLabel,"collapse-transition":g.collapseTransition,"collapse-duration":g.collapseDuration,onChange:f},ue({_:2},[Y(l(P),(N,h)=>({name:h,fn:w(_=>[D(g.$slots,h,K(ae(_)))])})),Y(l(E),(N,h)=>({name:h,fn:w(_=>[D(g.$slots,h,K(ae(_)))])})),Y(l(y),(N,h)=>({name:h,fn:w(_=>[D(g.$slots,h,K(ae(_)))])})),g.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:w(()=>[D(g.$slots,"tooltip-icon")]),key:"0"}:void 0]),1032,["modelValue","row-props","col-props","columns","has-label","collapse-transition","collapse-duration"])]),_:2},1040))),128)):(p(),B(G,{key:1},[H(" 普通表单 "),x(yt,{modelValue:i.value,"onUpdate:modelValue":z[1]||(z[1]=W=>i.value=W),"row-props":g.rowProps,"col-props":g.colProps,columns:m.value,"has-label":g.hasLabel,"collapse-transition":g.collapseTransition,"collapse-duration":g.collapseDuration,onChange:f},ue({_:2},[Y(l(P),(W,N)=>({name:N,fn:w(h=>[D(g.$slots,N,K(ae(h)))])})),Y(l(E),(W,N)=>({name:N,fn:w(h=>[D(g.$slots,N,K(ae(h)))])})),Y(l(y),(W,N)=>({name:N,fn:w(h=>[D(g.$slots,N,K(ae(h)))])})),g.$slots["search-footer"]?{name:"search-footer",fn:w(()=>[D(g.$slots,"search-footer")]),key:"0"}:void 0,g.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:w(()=>[D(g.$slots,"tooltip-icon")]),key:"1"}:void 0]),1032,["modelValue","row-props","col-props","columns","has-label","collapse-transition","collapse-duration"])],64))]),g.hasFooter?(p(),B("div",{key:0,class:"plus-form__footer",style:Ce(b.value)},[D(g.$slots,"footer",K(ae({handleReset:j,handleSubmit:F})),()=>[g.hasReset?(p(),k(l(ze),{key:0,onClick:j},{default:w(()=>[H(" 重置 "),se(" "+oe(g.resetText||l(r)("plus.form.resetText")),1)]),_:1})):H("v-if",!0),x(l(ze),{type:"primary",loading:g.submitLoading,onClick:F},{default:w(()=>[H(" 提交 "),se(" "+oe(g.submitText||l(r)("plus.form.submitText")),1)]),_:1},8,["loading"])])],4)):H("v-if",!0)]),_:3},16,["rules","label-width","class","label-position","label-suffix","model"]))}}),Kn=ce(zn,[["__file","index.vue"]]);const Xn=Kn;export{Xn as P,he as a,Fe as b,je as f,we as g,Ae as u};
